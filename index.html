<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Open My Heart ‚ù§Ô∏è</title>
<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #3b0030, #000);
  font-family: "Segoe UI", sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
  overflow: hidden;
}

.app {
  width: 100%;
  max-width: 390px;
  height: 100%;
  padding: 20px;
  box-sizing: border-box;
}

.page { display: none; height: 100%; width: 100%; text-align: center; }
.page.active { display: flex; flex-direction: column; justify-content: center; align-items: center; animation: fade 0.8s ease; }
@keyframes fade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

h1 { color: #ff6fb1; margin-bottom: 10px; }
p { margin: 8px 0; }

.btn {
  margin-top: 30px; padding: 14px 28px; border-radius: 30px; border: none;
  background: linear-gradient(90deg, #ff4f9a, #ff7ac2); color: #fff; font-size: 16px; cursor: pointer;
}
.btn:disabled { opacity: .5; }

.progress { width: 100%; max-width: 280px; height: 22px; background: #333; border-radius: 12px; overflow: hidden; margin-top: 20px; }
.progress-fill { height: 100%; width: 0%; background: linear-gradient(90deg, hotpink, deeppink); transition: width .25s linear; }

.warning { opacity: 0; font-weight: bold; margin-top: 20px; }
.warning.show { opacity: 1; animation: shake .8s ease-in-out 3; }
@keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-6px); } 50% { transform: translateX(6px); } 75% { transform: translateX(-6px); } 100% { transform: translateX(0); } }

.item { width: 100%; max-width: 300px; background: rgba(255,255,255,0.08); border-radius: 14px; padding: 14px; margin: 8px 0; cursor: pointer; }
.item span { display: none; }
.item.reveal span { display: inline; }

.preview-title { font-family: cursive; font-size: 26px; margin-bottom: 30px; }

.note-card { animation: open .9s ease forwards; }
@keyframes open { from { opacity: 0; transform: scaleY(.6); } to { opacity: 1; transform: scaleY(1); } }

.card { width: 100%; max-width: 320px; background: linear-gradient(180deg, #ffd1e8, #ffb7da); color: #4a0030; border-radius: 20px; padding: 24px; }

.heart { position: fixed; bottom: -20px; font-size: 20px; animation: float 3s linear forwards; }
@keyframes float { to { transform: translateY(-100vh); opacity: 0; } }

.final-heart { font-size: 55px; animation: beat 1.5s infinite; }
@keyframes beat { 50% { transform: scale(1.3); } }

.envelope { position: relative; width: 280px; height: 180px; background: linear-gradient(180deg, #ffd1e8, #ffb7da); border-radius: 14px; cursor: pointer; overflow: hidden; animation: pulse 2s infinite; }
.envelope .flap { position: absolute; top: 0; left: 0; width: 100%; height: 50%; background: #ff9fc9; clip-path: polygon(0 0, 50% 100%, 100% 0); transform-origin: top; transition: transform 0.8s ease; }
.envelope.open .flap { transform: rotateX(180deg); }
.envelope .letter { position: absolute; top: 60px; width: 100%; font-size: 40px; transition: transform 0.8s ease; }
.envelope.open .letter { transform: translateY(-40px); }
.tap-text { position: absolute; bottom: 12px; width: 100%; font-weight: bold; color: #ff4f9a; }

.note-line { opacity: 0; transform: translateY(10px); animation: revealLine 0.8s ease forwards; }
@keyframes revealLine { to { opacity: 1; transform: translateY(0); } }

.rain-heart { position: fixed; top: -20px; font-size: 22px; animation: fall 4s linear forwards; pointer-events: none; }
@keyframes fall { to { transform: translateY(110vh); opacity: 0; } }
</style>
</head>
<body>

<div class="app">

  <!-- PAGE 1 -->
  <div class="page active">
    <h1>Hey HANDSOMEüòç</h1>
    <p>Do you know how cute you are?</p>
    <button class="btn" onclick="next()">Open My Heart‚ù§Ô∏è ‚ûú</button>
  </div>

  <!-- PAGE 2 -->
  <div class="page">
    <h1>Measuring your cutenessü§î...</h1>
    <div class="progress"><div class="progress-fill" id="bar"></div></div>
    <h2 id="percent">0%</h2>
    <p class="warning" id="warning">WARNING‚ö†Ô∏è: TOO CUTE TO HANDLE üò±</p>
    <button class="btn" id="nextBtn" disabled onclick="next()">Next ‚ûú</button>
  </div>

  <!-- PAGE 3 -->
  <div class="page">
    <h1>Just for youüíó</h1>
    <div class="item" onclick="reveal(this)">‚ù§Ô∏è <span>You look adorable</span></div>
    <div class="item" onclick="reveal(this)">üòò <span>You have the sweetest vibe</span></div>
    <div class="item" onclick="reveal(this)">ü•∞ <span>You make things lighter</span></div>
    <div class="item" onclick="reveal(this)">‚ù§Ô∏è <span>You are naturally charming</span></div>
    <button class="btn" onclick="next()">More ‚ûú</button>
  </div>

  <!-- PAGE 4 -->
  <div class="page">
    <div class="preview-title">A little note for you</div>
    <div class="envelope" onclick="openEnvelope()">
      <div class="flap"></div>
      <div class="letter">üíå</div>
      <p class="tap-text">Tap to open</p>
    </div>
  </div>

  <!-- PAGE 5 -->
  <div class="page">
    <h1>A little note for u raa üíå</h1>
    <div class="card note-card">
      <p class="note-line">With you, my heartüíì feels lighter.</p>
      <p class="note-line">Even when you doubt yourself, I see a kind soul.</p>
      <p class="note-line">Just being you is more than enough.</p>
      <p class="note-line">You matter to me more than you know.</p>
    </div>
    <button class="btn" onclick="goFinal()">Final ‚ûú</button>
  </div>

  <!-- PAGE 6 -->
  <div class="page">
    <h1 class="final-heart">‚ù§Ô∏è</h1>
    <p>I LOVE U SO MUCH NANNA üíñ</p>
  </div>

</div>

<!-- Background Music -->
<audio id="bgMusic" loop preload="auto">
  <source src="https://assets.mixkit.co/music/preview/mixkit-romantic-wedding-choir-108.mp3" type="audio/mpeg">
</audio>

<audio id="beep">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-interface-hint-notification-911.mp3">
</audio>

<script>
let current = 0;
const pages = document.querySelectorAll(".page");

function next() {
  pages[current].classList.remove("active");
  current++;
  pages[current].classList.add("active");
  if(current === 1) startDownload();
}

function reveal(el){ el.classList.add("reveal"); }

function openEnvelope() {
  const env = document.querySelector(".envelope");
  env.classList.add("open");
  setTimeout(() => { openNote(); }, 900);
}

function openNote() {
  pages[current].classList.remove("active");
  current = 4;
  pages[current].classList.add("active");
  animateNoteLines();
}

function animateNoteLines() {
  const lines = document.querySelectorAll(".note-line");
  lines.forEach((line, index) => { line.style.animationDelay = (index*0.8)+'s'; });
}

function startDownload(){
  let value=0;
  const bar=document.getElementById("bar");
  const percent=document.getElementById("percent");
  const warning=document.getElementById("warning");
  const btn=document.getElementById("nextBtn");
  const beep=document.getElementById("beep");

  const interval=setInterval(()=>{
    value++;
    bar.style.width = value + "%";
    percent.textContent = value + "%";
    if(value >=100){
      clearInterval(interval);
      percent.textContent="120%";
      warning.classList.add("show");
      btn.disabled=false;
      beep.play();
    }
  },40);
}

let heartRainInterval;
function startHeartRain() {
  heartRainInterval = setInterval(()=>{
    const heart = document.createElement("div");
    heart.classList.add("rain-heart");
    heart.textContent = "‚ù§Ô∏è";
    heart.style.left = Math.random()*100+"vw";
    heart.style.animationDuration = (3+Math.random()*2)+"s";
    document.body.appendChild(heart);
    setTimeout(()=>{ heart.remove(); },5000);
  },300);
}

function stopHeartRain() { clearInterval(heartRainInterval); }

function goFinal() {
  pages[current].classList.remove("active");
  current=5;
  pages[current].classList.add("active");

  // Start heart rain
  startHeartRain();

  // Play background music (triggered by click)
  const bgMusic = document.getElementById("bgMusic");
  bgMusic.volume = 0.8;
  bgMusic.muted = false;
  bgMusic.play().catch(err => { console.log("Music blocked:", err); });
}
</script>

</body>
</html>
